<view class="history-page">
  <view class="nav-bar">
    <view class="back-btn" bindtap="onBack">â†</view>
    <view class="page-title">æµ‹è¯„è®°å½•</view>
  </view>

  <scroll-view scroll-y class="history-list">
    <block wx:if="{{historyList.length > 0}}">
      <view class="history-card" wx:for="{{historyList}}" wx:key="id" bindtap="goToResult" data-id="{{item.id}}">
        <view class="card-header">
          <view class="tag {{item.type === 'mbti' ? 'tag-purple' : 'tag-blue'}}">{{item.tagName}}</view>
          <view class="date">{{item.date}}</view>
        </view>
        
        <view class="card-body">
          <view class="result-main">{{item.resultTitle}}</view>
          <view class="result-sub">{{item.desc}}</view>
        </view>

        <view class="card-footer">
          <view class="score-box">
            <text class="score-num">{{item.score}}</text>
            <text class="score-label">åŒ¹é…åº¦</text>
          </view>
          <view class="action-btn">æŸ¥çœ‹æŠ¥å‘Š ></view>
        </view>
      </view>
    </block>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:else class="g-empty-box">
      <view class="g-empty-icon">ğŸ“‚</view>
      <view class="g-empty-text">æš‚æ— æµ‹è¯„è®°å½•</view>
      <button class="btn-go-test" bindtap="goTest" style="margin-top: 30rpx;">å»æµ‹è¯„</button>
    </view>
    
    <view class="bottom-space"></view>
  </scroll-view>
</view>
