<view class="container">
  <!-- Loading çŠ¶æ€ -->
  <view wx:if="{{isLoading}}" class="loading-box">
    <view class="loading-spinner"></view>
    <view class="loading-text">AI æ­£åœ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š...</view>
  </view>

  <block wx:else>
    <view class="result-page">
      <view class="result-header">
        <view class="back-btn-white" bindtap="goHome">â†</view>
        <view class="header-content">
          <view class="score-ring">
            <text class="score-val">{{report.score}}</text>
            <text class="score-label">æ½œåŠ›æŒ‡æ•°</text>
          </view>
          <view class="result-title">{{report.type}}</view>
          <view class="result-desc">{{report.advice}}</view>
        </view>
        <!-- èƒŒæ™¯è£…é¥° -->
        <view class="bg-circle c1"></view>
        <view class="bg-circle c2"></view>
      </view>

      <view class="report-card">
        <view class="section-title">èƒ½åŠ›ç»´åº¦</view>
        
        <!-- åŠ¨æ€èƒ½åŠ›æ¡å½¢å›¾ -->
        <view class="skill-bars">
          <block wx:for="{{report.dimensions}}" wx:key="name">
            <view class="skill-row">
              <text class="skill-name">{{item.name}}</text>
              <view class="bar-track">
                <view class="bar-fill" style="width: {{item.value}}%;"></view>
              </view>
              <text class="skill-val">{{item.value}}</text>
            </view>
          </block>
        </view>

        <view class="divider"></view>

        <view class="section-title">æ¨èèŒä¸š</view>
        
        <block wx:for="{{report.careers}}" wx:key="title">
          <view class="job-card" bindtap="viewCareerDetail" data-index="{{index}}">
            <view class="job-icon">ğŸ’¼</view>
            <view class="job-info">
              <view class="job-name">{{item.title}}</view>
              <view class="job-salary">åŒ¹é…åº¦ {{item.match}}%</view>
            </view>
            <view class="job-arrow">â†’</view>
          </view>
        </block>

        <button class="btn-save" bindtap="goHome">è¿”å›æµ‹è¯„é¦–é¡µ</button>
      </view>
    </view>
  </block>
</view>